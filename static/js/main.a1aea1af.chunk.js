(this["webpackJsonpteamwork-frontend"]=this["webpackJsonpteamwork-frontend"]||[]).push([[0],{32:function(e,t,r){e.exports=r(49)},37:function(e,t,r){},49:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(15),o=r.n(c),i=r(11),l=(r(37),r(7)),u=r(14),s=r(18),d=r(24),p=(r(40),r(41),r(2)),m=r.n(p),f=r(4),b=r(5),h=r(6);function g(){var e=Object(b.a)(["\n  text-decoration: none;\n  &:visited {\n    color: inherit;\n  }\n\n  &:hover {\n    text-decoration: none;\n  }\n"]);return g=function(){return e},e}function v(){var e=Object(b.a)(["\n  min-height: 40px;\n  min-width: 80%;\n  padding: 2em;\n  background-color: #bc4873;\n  margin-bottom: 3em;\n"]);return v=function(){return e},e}var O=h.a.article(v()),y=Object(h.a)(i.b)(g()),w=function(e){return e.article.split("\n").map((function(e,t){return a.a.createElement("p",{key:t.toString()},e)}))},j=function(e){var t=e.id,r=e.title,n=e.feedType,c=e.authorName,o=e.createdOn,i=e.content;return a.a.createElement(y,{to:"/".concat("article"===n?"articles":"gifs","/").concat(t)},a.a.createElement(O,{"data-testid":"feed-item"},a.a.createElement("header",null,a.a.createElement("h3",null,r)),a.a.createElement("main",null,"article"===n?a.a.createElement(w,{article:i}):a.a.createElement("img",{src:i,alt:r})),a.a.createElement("footer",null,a.a.createElement("address",null,c,a.a.createElement("time",null,new Date(o).toLocaleString())))))},E=function(e){return"".concat("https://nameless-spire-94806.herokuapp.com/api/v1").concat(e)},x={login:function(){var e=Object(f.a)(m.a.mark((function e(t){var r,n,a,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,n=t.password,a=E("/auth/signin"),e.prev=2,e.next=5,fetch(a,{method:"POST",body:JSON.stringify({email:r,password:n}),headers:{"Content-Type":"application/json"}});case 5:return c=e.sent,e.abrupt("return",c.json());case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",{status:"error",error:"unable to login, please try again"});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),createUser:function(){var e=Object(f.a)(m.a.mark((function e(t){var r,n,a,c,o,i,l,u,s,d;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.firstName,n=t.lastName,a=t.email,c=t.password,o=t.gender,i=t.jobRole,l=t.department,u=t.address,s=E("/auth/create-user"),e.prev=2,e.next=5,fetch(s,{method:"POST",body:JSON.stringify({firstName:r,lastName:n,email:a,password:c,gender:o,jobRole:i,department:l,address:u}),headers:new Headers({token:window.localStorage.getItem("token"),"Content-Type":"application/json"})});case 5:return d=e.sent,e.abrupt("return",d.json());case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",{status:"error",error:"unable to login, please try again"});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),setUser:function(e){window.localStorage.setItem("token",e);var t=s(e);window.localStorage.setItem("user",JSON.stringify(t))},getUser:function(){return JSON.parse(window.localStorage.getItem("user"))},getToken:function(){return window.localStorage.getItem("token")}},k={getAll:function(){var e=Object(f.a)(m.a.mark((function e(){var t,r,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=E("/feed"),e.prev=1,r=x.getToken(),e.next=5,fetch(t,{method:"GET",headers:new Headers({token:r})});case 5:return n=e.sent,e.abrupt("return",n.json());case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",{status:"error",error:"unable to get feeds"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}()};function S(){var e=Object(b.a)(["\n  margin-bottom: 5em;\n"]);return S=function(){return e},e}function P(){var e=Object(b.a)(["\n  min-height: 80vh;\n"]);return P=function(){return e},e}var N=function(e){var t=e.feed;return"error"===t.status?a.a.createElement("p",null,t.error):t.data.map((function(e){return a.a.createElement(j,{key:e.id,id:e.id,createdOn:e.createdOn,title:e.title,authorName:e.authorName,feedType:e.article?"article":"gif",content:e.article||e.url})}))},C=h.a.main(P()),D=h.a.h1(S()),I=function(){var e=Object(n.useState)(!0),t=Object(l.a)(e,2),r=t[0],c=t[1],o=Object(n.useState)([]),i=Object(l.a)(o,2),u=i[0],s=i[1];return Object(n.useEffect)((function(){(function(){var e=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.getAll();case 3:t=e.sent,s(t),c(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),s({status:"error",error:"Unable to get feed"}),c(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]),a.a.createElement(C,null,a.a.createElement("header",null,a.a.createElement(D,null,"Feed")),a.a.createElement("main",null,u.data&&0===u.data.length&&!r&&a.a.createElement("p",null,"Nothing here at the moment"),r?a.a.createElement("p",null,"Loading feeds"):a.a.createElement(N,{feed:u})))};function T(){var e=Object(b.a)(["\n  text-decoration: none;\n  &."," {\n    border-bottom: 1.5px solid white;\n  }\n\n  &:visited {\n    color: inherit;\n  }\n\n  &:hover {\n    text-decoration: none;\n  }\n  "]);return T=function(){return e},e}function A(){var e=Object(b.a)(["\n  margin-right: 1em;  \n"]);return A=function(){return e},e}function F(){var e=Object(b.a)(["\n  list-style-type: none;\n  display: flex;\n  justify-content: space-between;\n"]);return F=function(){return e},e}function U(){var e=Object(b.a)(["\n  max-width:100vw;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  position: absolute;\n  top: 0;\n  left: 30%;\n"]);return U=function(){return e},e}var q=h.a.nav(U()),J=h.a.ul(F()),R=h.a.li(A()),H=Object(h.a)(i.c).attrs({activeClassName:"active"})(T(),"active"),L=function(){return a.a.createElement(q,null,a.a.createElement(J,null,a.a.createElement(R,null,a.a.createElement(H,{to:"/feed"},"feed")),a.a.createElement(R,null,a.a.createElement(H,{to:"/articles/new"},"New Article"))))},G=r(12),z={createArticle:function(){var e=Object(f.a)(m.a.mark((function e(t){var r,n,a,c,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.title,n=t.article,a=E("/articles"),c=x.getToken(),e.prev=3,e.next=6,fetch(a,{method:"POST",body:JSON.stringify({title:r,article:n}),headers:new Headers({token:c,"Content-Type":"application/json"})});case 6:return o=e.sent,e.abrupt("return",o.json());case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",{status:"error",error:"unable to post article"});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),updateArticle:function(){var e=Object(f.a)(m.a.mark((function e(t){var r,n,a,c,o,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.title,n=t.article,a=t.articleId,c=E("/articles/".concat(a)),o=x.getToken(),e.prev=3,e.next=6,fetch(c,{method:"PATCH",body:JSON.stringify({title:r,article:n}),headers:new Headers({token:o,"Content-Type":"application/json"})});case 6:return i=e.sent,e.abrupt("return",i.json());case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",{status:"error",error:"An error occured while updating the article"});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),getArticle:function(){var e=Object(f.a)(m.a.mark((function e(t){var r,n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=E("/articles/".concat(t)),n=x.getToken(),e.prev=2,e.next=5,fetch(r,{method:"GET",headers:new Headers({token:n})});case 5:return a=e.sent,e.abrupt("return",a.json());case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",{status:"error",error:"An error occured retrieving the article"});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()};function B(){var e=Object(b.a)(["\n  padding: 1em; \n  border: 1px solid #726582;\n  background-color: inherit;\n  color: #edebe6;\n  transition: .4s;\n  width: 40%;\n  &:hover {\n    background-color: #edebe6;\n    color: #41295a;\n  }\n"]);return B=function(){return e},e}function W(){var e=Object(b.a)(["\n  display: block;\n  padding: 1em;\n  margin-bottom: 1.5em;\n  width: 100%;\n  border: none;\n  border-bottom: solid 1px #726582;\n  background-color: inherit;\n  color: #edebe6;\n  &::placeholder {\n    color: #d4d0c7;\n  }\n"]);return W=function(){return e},e}function Y(){var e=Object(b.a)(["\n  display: block;\n  padding: 1em;\n  margin-bottom: 1.5em;\n  width: 100%;\n  border: none;\n  border-bottom: solid 1px #726582;\n  background-color: inherit;\n  color: #edebe6;\n  &::placeholder {\n    color: #d4d0c7;\n  }\n"]);return Y=function(){return e},e}function K(){var e=Object(b.a)(["\n  font-size: 1.5em;\n  text-transform: uppercase;\n  color: #edebe6;\n"]);return K=function(){return e},e}function M(){var e=Object(b.a)(["\n  margin-top: 1em;\n  width: 80%;\n  background-color: inherit;\n"]);return M=function(){return e},e}function Q(){var e=Object(b.a)(["\n  color: #d4d0c7;\n  margin-bottom: 2em;\n"]);return Q=function(){return e},e}function V(){var e=Object(b.a)(["\n  max-width: 768px;\n  height: auto;\n  padding: 1.5em;\n  background-color: inherit;\n"]);return V=function(){return e},e}var X=h.a.main(V()),Z=h.a.h2(Q()),$=h.a.form(M()),_=h.a.label(K()),ee=h.a.input(Y()),te=h.a.textarea(W()),re=h.a.input(B()),ne=function(e){var t=e.handleChange,r=e.handleSubmit,n=e.state,c=e.isUpdate;return a.a.createElement(X,null,a.a.createElement(Z,null,"New Article"),a.a.createElement($,{"data-testid":"articleForm",onSubmit:r},a.a.createElement(_,{htmlFor:"title"},"Title",a.a.createElement(ee,{"data-testid":"title",id:"title",type:"text",placeholder:"Title",onChange:t,value:n.title,required:!0})),a.a.createElement(_,{htmlFor:"article"},"Article",a.a.createElement(te,{"data-testid":"article",id:"article",placeholder:"Article",onChange:t,value:n.article,required:!0},n.value)),a.a.createElement(re,{"data-testid":"submit-button",type:"submit",value:c?"Update":"Post"})))};function ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ae(r,!0).forEach((function(t){Object(G.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ae(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var oe=Object(u.g)((function(e){var t=e.notify,r=e.history,c=e.articleId;console.log("id",c);var o=Object(n.useState)({title:"",article:""}),i=Object(l.a)(o,2),u=i[0],s=i[1],d=Object(n.useState)(null),p=Object(l.a)(d,2),b=p[0],h=p[1];Object(n.useEffect)((function(){(function(){var e=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.getArticle(c);case 3:"error"===(t=e.sent).status?(console.log("neigh",t.error),h(t.error)):(console.log("yay",t.data),s({title:t.data.title,article:t.data.article})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn(e.t0),h("An error occured retrieving the article");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[c]);var g=function(){var e=Object(f.a)(m.a.mark((function e(n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,z.updateArticle(ce({},u,{articleId:c}));case 4:"error"===(a=e.sent).status&&a.error.includes("expire")?(t(a.error),window.localStorage.clear(),r.push("/signin")):"success"===a.status&&(t(a.data.message),r.push("/articles/".concat(c))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t("cannot submit your input");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return b?a.a.createElement("p",null,b):a.a.createElement(ne,{handleChange:function(e){s(ce({},u,Object(G.a)({},e.target.id,e.target.value)))},handleSubmit:g,state:u,isUpdate:!0})}));function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var le=Object(u.g)((function(e){var t=e.notify,r=e.history,c=Object(n.useState)({title:"",article:""}),o=Object(l.a)(c,2),i=o[0],u=o[1],s=function(){var e=Object(f.a)(m.a.mark((function e(n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,z.createArticle(i);case 4:"error"===(a=e.sent).status&&a.error.includes("expire")?(t(a.error),window.localStorage.clear(),r.push("/signin")):"success"===a.status&&(t(a.data.message),r.push("/articles/".concat(a.data.articleId))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t("cannot submit your input");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(ne,{handleChange:function(e){u(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(r,!0).forEach((function(t){Object(G.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},i,Object(G.a)({},e.target.id,e.target.value)))},handleSubmit:s,state:i,isUpdate:!1})})),ue=function(e){var t=e.article;return"error"===t.status?a.a.createElement("p",null,t.error):a.a.createElement(j,{id:t.data.id,createdOn:t.data.createdOn,title:t.data.title,authorName:t.data.authorName,feedType:t.data.article?"article":"gif",content:t.data.article||t.data.url})},se=function(e){var t=e.articleId,r=e.notify,c=Object(n.useState)(!0),o=Object(l.a)(c,2),i=o[0],u=o[1],s=Object(n.useState)([]),d=Object(l.a)(s,2),p=d[0],b=d[1];return Object(n.useEffect)((function(){(function(){var e=Object(f.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.getArticle(t);case 3:n=e.sent,b(n),u(!1),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),r("Unable to get feed"),b({status:"error",error:"Unable to get article"}),u(!1);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[t,r]),a.a.createElement("main",null,i?a.a.createElement("p",null,"Loading articles"):a.a.createElement(ue,{article:p}))},de=function(e){var t=e.notify;return a.a.createElement(a.a.Fragment,null,a.a.createElement(L,null),a.a.createElement("main",null,a.a.createElement(u.d,null,a.a.createElement(u.b,{path:"/feed",component:I}),a.a.createElement(u.b,{path:"/articles/new",render:function(){return a.a.createElement(le,{notify:t})}}),a.a.createElement(u.b,{path:"/articles/:articleId",render:function(e){var r=e.match;return a.a.createElement(se,{articleId:+r.params.articleId,notify:t})}}),a.a.createElement(u.b,{path:"/articles/:articleId/edit",render:function(e){var r=e.match;return a.a.createElement(oe,{articleId:+r.params.articleId,notify:t})}}))))},pe=function(e){var t=e.handleChange,r=e.handleSubmit,n=e.state;return a.a.createElement(X,null,a.a.createElement(Z,null,"Sign In"),a.a.createElement($,{"data-testid":"signinForm",onSubmit:r},a.a.createElement(_,{htmlFor:"email"},"Email",a.a.createElement(ee,{"data-testid":"email",id:"email",type:"email",placeholder:"Email",onChange:t,value:n.email,required:!0})),a.a.createElement(_,{htmlFor:"password"},"Password",a.a.createElement(ee,{"data-testid":"password",id:"password",type:"password",placeholder:"Password",onChange:t,value:n.password,required:!0})),a.a.createElement(re,{"data-testid":"submit-button",type:"submit",value:"Sign In"})))};function me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var fe=Object(u.g)((function(e){var t=e.notify,r=e.history,c={email:"",password:""},o=Object(n.useState)(c),i=Object(l.a)(o,2),u=i[0],s=i[1],d=function(){var e=Object(f.a)(m.a.mark((function e(n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,x.login(u);case 4:"success"===(a=e.sent).status?(x.setUser(a.data.token),t("Welcome"),r.push("/feed")):"error"===a.status&&(t(a.error),s(c)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.warn(e.t0),t("cannot submit your input");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(pe,{handleChange:function(e){s(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?me(r,!0).forEach((function(t){Object(G.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):me(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},u,Object(G.a)({},e.target.id,e.target.value)))},handleSubmit:d,state:u})})),be=function(e){var t=e.handleChange,r=e.handleSubmit,n=e.state;return a.a.createElement(X,null,a.a.createElement(Z,null,"Create new Employee profile"),a.a.createElement($,{"data-testid":"newUserForm",onSubmit:r},a.a.createElement(_,{htmlFor:"firstName"},"First Name",a.a.createElement(ee,{"data-testid":"firstName",id:"firstName",type:"text",placeholder:"First Name",onChange:t,value:n.firstName,required:!0})),a.a.createElement(_,{htmlFor:"lastName"},"Last Name",a.a.createElement(ee,{"data-testid":"lastName",id:"lastName",type:"text",placeholder:"Last Name",onChange:t,value:n.lastName,required:!0})),a.a.createElement(_,{htmlFor:"email"},"Email",a.a.createElement(ee,{"data-testid":"email",id:"email",type:"email",placeholder:"Email",onChange:t,value:n.email,required:!0})),a.a.createElement(_,{htmlFor:"password"},"Password",a.a.createElement(ee,{"data-testid":"password",id:"password",type:"password",placeholder:"Password",onChange:t,value:n.password,required:!0})),a.a.createElement(_,{htmlFor:"gender"},"Gender",a.a.createElement(ee,{"data-testid":"gender",id:"gender",type:"text",placeholder:"Gender",onChange:t,value:n.gender,required:!0})),a.a.createElement(_,{htmlFor:"jobRole"},"Job Role",a.a.createElement(ee,{"data-testid":"jobRole",id:"jobRole",type:"text",placeholder:"Job Role",onChange:t,value:n.jobRole,required:!0})),a.a.createElement(_,{htmlFor:"department"},"Department",a.a.createElement(ee,{"data-testid":"department",id:"department",type:"text",placeholder:"Department",onChange:t,value:n.department,required:!0})),a.a.createElement(_,{htmlFor:"address"},"Address",a.a.createElement(ee,{"data-testid":"address",id:"address",type:"text",placeholder:"Address",onChange:t,value:n.address,required:!0})),a.a.createElement(re,{"data-testid":"submit-button",type:"submit",value:"Create"})))};function he(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var ge=Object(u.g)((function(e){var t=e.notify,r=e.history,c={firstName:"",lastName:"",email:"",password:"",gender:"",jobRole:"",department:"",address:""},o=Object(n.useState)(c),i=Object(l.a)(o,2),u=i[0],s=i[1],d=function(){var e=Object(f.a)(m.a.mark((function e(n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,x.createUser(u);case 4:"error"===(a=e.sent).status&&a.error.includes("expire")?(t(a.error),window.localStorage.clear(),r.push("/signin")):"success"===a.status&&(t(a.data.message),s(c)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t("cannot submit your input");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(be,{handleChange:function(e){s(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?he(r,!0).forEach((function(t){Object(G.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):he(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},u,Object(G.a)({},e.target.id,e.target.value)))},handleSubmit:d,state:u})}));d.a.configure({autoClose:3e3,draggable:!1});var ve=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),r=t[0],c=t[1];r&&(d.a.info(r),c(null));var o=function(){var e,t=window.localStorage.getItem("token");if(!t)return c("You have to log in first"),a.a.createElement(u.a,{to:"/signin"});try{var r=s(t);return e=r.exp,new Date(1e3*e)-Date.now()<0?(window.localStorage.clear(),a.a.createElement(u.a,{to:"/signin"})):"admin"===r.dept?a.a.createElement(ge,{notify:c}):a.a.createElement(de,{notify:c})}catch(n){return a.a.createElement(u.a,{to:"/signin"})}};return a.a.createElement(u.d,null,a.a.createElement(u.b,{exact:!0,path:"/signin",render:function(){return a.a.createElement(fe,{notify:c})}}),a.a.createElement(u.b,{exact:!0,path:"/",render:o}),a.a.createElement(u.b,{exact:!0,path:"/new-user",render:o}),a.a.createElement(u.b,{path:"/feed",render:o}),a.a.createElement(u.b,{path:"/articles/new",render:o}),a.a.createElement(u.b,{path:"/articles/:articleId",render:o}),a.a.createElement(u.b,{path:"/articles/:articleId/edit",render:o}))};o.a.render(a.a.createElement(i.a,null,a.a.createElement(ve,null)),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.a1aea1af.chunk.js.map